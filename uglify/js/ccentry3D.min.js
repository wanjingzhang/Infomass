THREE.TrackballControls=function(n,i){var v=this;var a={NONE:-1,ROTATE:2,ZOOM:1,PAN:1,i:3,t:4};this.object=n;this.domElement=i!==undefined?i:document;this.enabled=true;this.screen={left:0,top:0,width:0,height:0};this.rotateSpeed=1;this.zoomSpeed=1.2;this.panSpeed=.3;this.noRotate=false;this.noZoom=false;this.noPan=false;this.staticMoving=false;this.dynamicDampingFactor=.2;this.minDistance=0;this.maxDistance=Infinity;this.keys=[65,83,68];this.target=new THREE.Vector3;var t=1e-6;var e=new THREE.Vector3;var o=a.NONE,r=a.NONE,h=new THREE.Vector3,T=new THREE.Vector2,H=new THREE.Vector2,R=new THREE.Vector3,l=0,w=new THREE.Vector2,f=new THREE.Vector2,E=0,u=0,s=new THREE.Vector2,d=new THREE.Vector2;this.target0=this.target.clone();this.position0=this.object.position.clone();this.up0=this.object.up.clone();var c={type:"change"};var M={type:"start"};var _={type:"end"};this.handleResize=function(){if(this.domElement===document){this.screen.left=0;this.screen.top=0;this.screen.width=window.innerWidth;this.screen.height=window.innerHeight}else{var n=this.domElement.getBoundingClientRect();var i=this.domElement.ownerDocument.documentElement;this.screen.left=n.left+window.pageXOffset-i.clientLeft;this.screen.top=n.top+window.pageYOffset-i.clientTop;this.screen.width=n.width;this.screen.height=n.height}};var p=function(){var e=new THREE.Vector2;return function n(i,t){e.set((i-v.screen.left)/v.screen.width,(t-v.screen.top)/v.screen.height);return e}}();var m=function(){var e=new THREE.Vector2;return function n(i,t){e.set((i-v.screen.width*.5-v.screen.left)/(v.screen.width*.5),(v.screen.height+2*(v.screen.top-t))/v.screen.width);return e}}();this.rotateCamera=function(){var w=new THREE.Vector3,f=new THREE.Quaternion,E=new THREE.Vector3,u=new THREE.Vector3,s=new THREE.Vector3,d=new THREE.Vector3,c;return function n(){d.set(H.x-T.x,H.y-T.y,0);c=d.length();if(c){h.copy(v.object.position).sub(v.target);E.copy(h).normalize();u.copy(v.object.up).normalize();s.crossVectors(u,E).normalize();u.setLength(H.y-T.y);s.setLength(H.x-T.x);d.copy(u.add(s));w.crossVectors(d,h).normalize();c*=v.rotateSpeed;f.setFromAxisAngle(w,c);h.applyQuaternion(f);v.object.up.applyQuaternion(f);R.copy(w);l=c;if(window.o){window.o.up.applyQuaternion(f);var i=new THREE.Vector3;var t=new THREE.Vector3;var e=new THREE.Vector3;t.copy(h).sub(e).normalize();t.x*=6;t.y*=6;t.z*=6;window.o.position.set(t.x,t.y,t.z);window.o.lookAt(e);var r=window.o.up;var a=new THREE.Vector3;a.crossVectors(t,r).normalize();var o=new THREE.Vector3;o.crossVectors(a,t).normalize();window.o.up.set(o.x,o.y,o.z)}}else if(!v.staticMoving&&l){l*=Math.sqrt(1-v.dynamicDampingFactor);h.copy(v.object.position).sub(v.target);f.setFromAxisAngle(R,l);h.applyQuaternion(f);v.object.up.applyQuaternion(f)}T.copy(H)}}();this.zoomCamera=function(){var n;if(o===a.t){n=E/u;E=u;h.multiplyScalar(n)}else{n=1+(f.y-w.y)*v.zoomSpeed;if(n!==1&&n>0){h.multiplyScalar(n)}if(v.staticMoving){w.copy(f)}else{w.y+=(f.y-w.y)*this.dynamicDampingFactor}}};this.panCamera=function(){var i=new THREE.Vector2,t=new THREE.Vector3,e=new THREE.Vector3;return function n(){i.copy(d).sub(s);if(i.lengthSq()){i.multiplyScalar(h.length()*v.panSpeed);e.copy(h).cross(v.object.up).setLength(i.x);e.add(t.copy(v.object.up).setLength(i.y));v.object.position.add(e);v.target.add(e);if(v.staticMoving){s.copy(d)}else{s.add(i.subVectors(d,s).multiplyScalar(v.dynamicDampingFactor))}}}}();this.checkDistances=function(){if(!v.noZoom||!v.noPan){if(h.lengthSq()>v.maxDistance*v.maxDistance){v.object.position.addVectors(v.target,h.setLength(v.maxDistance));w.copy(f)}if(h.lengthSq()<v.minDistance*v.minDistance){v.object.position.addVectors(v.target,h.setLength(v.minDistance));w.copy(f)}}};this.update=function(){h.subVectors(v.object.position,v.target);if(!v.noRotate){v.rotateCamera()}if(!v.noZoom){v.zoomCamera()}if(!v.noPan){v.panCamera()}v.object.position.addVectors(v.target,h);v.checkDistances();v.object.lookAt(v.target);if(e.distanceToSquared(v.object.position)>t){v.dispatchEvent(c);e.copy(v.object.position)}};this.reset=function(){o=a.NONE;r=a.NONE;v.target.copy(v.target0);v.object.position.copy(v.position0);v.object.up.copy(v.up0);h.subVectors(v.object.position,v.target);v.object.lookAt(v.target);v.dispatchEvent(c);e.copy(v.object.position)};function y(n){if(v.enabled===false)return;window.removeEventListener("keydown",y);r=o;if(o!==a.NONE){return}else if(n.keyCode===v.keys[a.ROTATE]&&!v.noRotate){o=a.ROTATE}else if(n.keyCode===v.keys[a.ZOOM]&&!v.noZoom){o=a.ZOOM}else if(n.keyCode===v.keys[a.PAN]&&!v.noPan){o=a.PAN}}function A(n){if(v.enabled===false)return;o=r;window.addEventListener("keydown",y,false)}function k(n){if(v.enabled===false)return;n.preventDefault();n.stopPropagation();if(o===a.NONE){o=n.button}if(o===a.ROTATE&&!v.noRotate){H.copy(m(n.pageX,n.pageY));T.copy(H)}else if(o===a.ZOOM&&!v.noZoom){s.copy(p(n.pageX,n.pageY));d.copy(s)}else if(o===a.PAN&&!v.noPan){s.copy(p(n.pageX,n.pageY));d.copy(s)}document.addEventListener("mousemove",g,false);document.addEventListener("mouseup",b,false);v.dispatchEvent(M)}function g(n){if(v.enabled===false)return;n.preventDefault();n.stopPropagation();if(o===a.ROTATE&&!v.noRotate){T.copy(H);H.copy(m(n.pageX,n.pageY))}else if(o===a.ZOOM&&!v.noZoom){d.copy(p(n.pageX,n.pageY))}else if(o===a.PAN&&!v.noPan){d.copy(p(n.pageX,n.pageY))}}function b(n){if(v.enabled===false)return;n.preventDefault();n.stopPropagation();o=a.NONE;document.removeEventListener("mousemove",g);document.removeEventListener("mouseup",b);v.dispatchEvent(_)}function F(n){if(v.enabled===false)return;if(v.noZoom===true)return;n.preventDefault();n.stopPropagation();switch(n.deltaMode){case 2:w.y-=n.deltaY*.025;break;case 1:w.y-=n.deltaY*.01;break;default:w.y-=n.deltaY*25e-5;break}v.dispatchEvent(M);v.dispatchEvent(_)}function P(n){if(v.enabled===false)return;n.preventDefault();switch(n.touches.length){case 1:o=a.i;H.copy(m(n.touches[0].pageX,n.touches[0].pageY));T.copy(H);break;default:o=a.t;var i=n.touches[0].pageX-n.touches[1].pageX;var t=n.touches[0].pageY-n.touches[1].pageY;u=E=Math.sqrt(i*i+t*t);var e=(n.touches[0].pageX+n.touches[1].pageX)/2;var r=(n.touches[0].pageY+n.touches[1].pageY)/2;s.copy(p(e,r));d.copy(s);break}v.dispatchEvent(M)}function x(n){if(v.enabled===false)return;n.preventDefault();n.stopPropagation();switch(n.touches.length){case 1:T.copy(H);H.copy(m(n.touches[0].pageX,n.touches[0].pageY));break;default:var i=n.touches[0].pageX-n.touches[1].pageX;var t=n.touches[0].pageY-n.touches[1].pageY;u=Math.sqrt(i*i+t*t);var e=(n.touches[0].pageX+n.touches[1].pageX)/2;var r=(n.touches[0].pageY+n.touches[1].pageY)/2;d.copy(p(e,r));break}}function G(n){if(v.enabled===false)return;switch(n.touches.length){case 0:o=a.NONE;break;case 1:o=a.i;H.copy(m(n.touches[0].pageX,n.touches[0].pageY));T.copy(H);break}v.dispatchEvent(_)}function O(n){if(v.enabled===false)return;n.preventDefault()}this.dispose=function(){this.domElement.removeEventListener("contextmenu",O,false);this.domElement.removeEventListener("mousedown",k,false);this.domElement.removeEventListener("wheel",F,false);this.domElement.removeEventListener("touchstart",P,false);this.domElement.removeEventListener("touchend",G,false);this.domElement.removeEventListener("touchmove",x,false);document.removeEventListener("mousemove",g,false);document.removeEventListener("mouseup",b,false);window.removeEventListener("keydown",y,false);window.removeEventListener("keyup",A,false)};this.domElement.addEventListener("contextmenu",O,false);this.domElement.addEventListener("mousedown",k,false);this.domElement.addEventListener("wheel",F,false);this.domElement.addEventListener("touchstart",P,false);this.domElement.addEventListener("touchend",G,false);this.domElement.addEventListener("touchmove",x,false);window.addEventListener("keydown",y,false);window.addEventListener("keyup",A,false);this.handleResize();this.update()};THREE.TrackballControls.prototype=Object.create(THREE.EventDispatcher.prototype);THREE.TrackballControls.prototype.constructor=THREE.TrackballControls;THREE.u=function(){};THREE.u.prototype.constructor=THREE.u;THREE.u.s=function(){var n=new Float32Array(16);n[0]=1;n[1]=0;n[2]=0;n[3]=0;n[4]=0;n[5]=1;n[6]=0;n[7]=0;n[8]=0;n[9]=0;n[10]=1;n[11]=0;n[12]=0;n[13]=0;n[14]=0;n[15]=1;return n};THREE.u.v=function(){var n=new Float64Array(16);n[0]=1;n[1]=0;n[2]=0;n[3]=0;n[4]=0;n[5]=1;n[6]=0;n[7]=0;n[8]=0;n[9]=0;n[10]=1;n[11]=0;n[12]=0;n[13]=0;n[14]=0;n[15]=1;return n};THREE.u.h=function(n){var i=new Float32Array(16);i[0]=n[0];i[1]=n[1];i[2]=n[2];i[3]=n[3];i[4]=n[4];i[5]=n[5];i[6]=n[6];i[7]=n[7];i[8]=n[8];i[9]=n[9];i[10]=n[10];i[11]=n[11];i[12]=n[12];i[13]=n[13];i[14]=n[14];i[15]=n[15];return i};THREE.u.T=function(n){var i=new Float64Array(16);i[0]=n[0];i[1]=n[1];i[2]=n[2];i[3]=n[3];i[4]=n[4];i[5]=n[5];i[6]=n[6];i[7]=n[7];i[8]=n[8];i[9]=n[9];i[10]=n[10];i[11]=n[11];i[12]=n[12];i[13]=n[13];i[14]=n[14];i[15]=n[15];return i};THREE.u.H=function(n,i,t,e,r,a,o,w,f,E,u,s,d,c,v,h){var T=new Float32Array(16);T[0]=n;T[1]=i;T[2]=t;T[3]=e;T[4]=r;T[5]=a;T[6]=o;T[7]=w;T[8]=f;T[9]=E;T[10]=u;T[11]=s;T[12]=d;T[13]=c;T[14]=v;T[15]=h;return T};THREE.u.R=function(n,i,t,e,r,a,o,w,f,E,u,s,d,c,v,h){var T=new Float64Array(16);T[0]=n;T[1]=i;T[2]=t;T[3]=e;T[4]=r;T[5]=a;T[6]=o;T[7]=w;T[8]=f;T[9]=E;T[10]=u;T[11]=s;T[12]=d;T[13]=c;T[14]=v;T[15]=h;return T};THREE.u.l=function(n,i){n[0]=i[0];n[1]=i[1];n[2]=i[2];n[3]=i[3];n[4]=i[4];n[5]=i[5];n[6]=i[6];n[7]=i[7];n[8]=i[8];n[9]=i[9];n[10]=i[10];n[11]=i[11];n[12]=i[12];n[13]=i[13];n[14]=i[14];n[15]=i[15];return n};THREE.u.M=function(n,i,t,e,r,a,o,w,f,E,u,s,d,c,v,h,T){n[0]=i;n[1]=t;n[2]=e;n[3]=r;n[4]=a;n[5]=o;n[6]=w;n[7]=f;n[8]=E;n[9]=u;n[10]=s;n[11]=d;n[12]=c;n[13]=v;n[14]=h;n[15]=T;return n};THREE.u._=function(n){n[0]=1;n[1]=0;n[2]=0;n[3]=0;n[4]=0;n[5]=1;n[6]=0;n[7]=0;n[8]=0;n[9]=0;n[10]=1;n[11]=0;n[12]=0;n[13]=0;n[14]=0;n[15]=1;return n};THREE.u.p=function(n,i){if(n===i){n[1]=i[4];n[2]=i[8];n[3]=i[12];n[4]=i[1];n[6]=i[9];n[7]=i[13];n[8]=i[2];n[9]=i[6];n[11]=i[14];n[12]=i[3];n[13]=i[7];n[14]=i[11]}else{n[0]=i[0];n[1]=i[4];n[2]=i[8];n[3]=i[12];n[4]=i[1];n[5]=i[5];n[6]=i[9];n[7]=i[13];n[8]=i[2];n[9]=i[6];n[10]=i[10];n[11]=i[14];n[12]=i[3];n[13]=i[7];n[14]=i[11];n[15]=i[15]}return n};THREE.u.m=function(n,i){var t=i[0],e=i[1],r=i[2],a=i[3],o=i[4],w=i[5],f=i[6],E=i[7],u=i[8],s=i[9],d=i[10],c=i[11],v=i[12],h=i[13],T=i[14],H=i[15],R=t*w-e*o,l=t*f-r*o,M=t*E-a*o,_=e*f-r*w,p=e*E-a*w,m=r*E-a*f,y=u*h-s*v,A=u*T-d*v,k=u*H-c*v,g=s*T-d*h,b=s*H-c*h,F=d*H-c*T,P=R*F-l*b+M*g+_*k-p*A+m*y;if(!P){return null}P=1/P;n[0]=(w*F-f*b+E*g)*P;n[1]=(r*b-e*F-a*g)*P;n[2]=(h*m-T*p+H*_)*P;n[3]=(d*p-s*m-c*_)*P;n[4]=(f*k-o*F-E*A)*P;n[5]=(t*F-r*k+a*A)*P;n[6]=(T*M-v*m-H*l)*P;n[7]=(u*m-d*M+c*l)*P;n[8]=(o*b-w*k+E*y)*P;n[9]=(e*k-t*b-a*y)*P;n[10]=(v*p-h*M+H*R)*P;n[11]=(s*M-u*p-c*R)*P;n[12]=(w*A-o*g-f*y)*P;n[13]=(t*g-e*A+r*y)*P;n[14]=(h*l-v*_-T*R)*P;n[15]=(u*_-s*l+d*R)*P;return n};THREE.u.A=function(n,i){var t=i[0],e=i[1],r=i[2],a=i[3],o=i[4],w=i[5],f=i[6],E=i[7],u=i[8],s=i[9],d=i[10],c=i[11],v=i[12],h=i[13],T=i[14],H=i[15];n[0]=w*(d*H-c*T)-s*(f*H-E*T)+h*(f*c-E*d);n[1]=-(e*(d*H-c*T)-s*(r*H-a*T)+h*(r*c-a*d));n[2]=e*(f*H-E*T)-w*(r*H-a*T)+h*(r*E-a*f);n[3]=-(e*(f*c-E*d)-w*(r*c-a*d)+s*(r*E-a*f));n[4]=-(o*(d*H-c*T)-u*(f*H-E*T)+v*(f*c-E*d));n[5]=t*(d*H-c*T)-u*(r*H-a*T)+v*(r*c-a*d);n[6]=-(t*(f*H-E*T)-o*(r*H-a*T)+v*(r*E-a*f));n[7]=t*(f*c-E*d)-o*(r*c-a*d)+u*(r*E-a*f);n[8]=o*(s*H-c*h)-u*(w*H-E*h)+v*(w*c-E*s);n[9]=-(t*(s*H-c*h)-u*(e*H-a*h)+v*(e*c-a*s));n[10]=t*(w*H-E*h)-o*(e*H-a*h)+v*(e*E-a*w);n[11]=-(t*(w*c-E*s)-o*(e*c-a*s)+u*(e*E-a*w));n[12]=-(o*(s*T-d*h)-u*(w*T-f*h)+v*(w*d-f*s));n[13]=t*(s*T-d*h)-u*(e*T-r*h)+v*(e*d-r*s);n[14]=-(t*(w*T-f*h)-o*(e*T-r*h)+v*(e*f-r*w));n[15]=t*(w*d-f*s)-o*(e*d-r*s)+u*(e*f-r*w);return n};THREE.u.k=function(n){var i=n[0],t=n[1],e=n[2],r=n[3],a=n[4],o=n[5],w=n[6],f=n[7],E=n[8],u=n[9],s=n[10],d=n[11],c=n[12],v=n[13],h=n[14],T=n[15],H=i*o-t*a,R=i*w-e*a,l=i*f-r*a,M=t*w-e*o,_=t*f-r*o,p=e*f-r*w,m=E*v-u*c,y=E*h-s*c,A=E*T-d*c,k=u*h-s*v,g=u*T-d*v,b=s*T-d*h;return H*b-R*g+l*k+M*A-_*y+p*m};THREE.u.g=function(n,i,t){var e=i[0],r=i[1],a=i[2],o=i[3],w=i[4],f=i[5],E=i[6],u=i[7],s=i[8],d=i[9],c=i[10],v=i[11],h=i[12],T=i[13],H=i[14],R=i[15];var l=t[0],M=t[1],_=t[2],p=t[3];n[0]=l*e+M*w+_*s+p*h;n[1]=l*r+M*f+_*d+p*T;n[2]=l*a+M*E+_*c+p*H;n[3]=l*o+M*u+_*v+p*R;l=t[4];M=t[5];_=t[6];p=t[7];n[4]=l*e+M*w+_*s+p*h;n[5]=l*r+M*f+_*d+p*T;n[6]=l*a+M*E+_*c+p*H;n[7]=l*o+M*u+_*v+p*R;l=t[8];M=t[9];_=t[10];p=t[11];n[8]=l*e+M*w+_*s+p*h;n[9]=l*r+M*f+_*d+p*T;n[10]=l*a+M*E+_*c+p*H;n[11]=l*o+M*u+_*v+p*R;l=t[12];M=t[13];_=t[14];p=t[15];n[12]=l*e+M*w+_*s+p*h;n[13]=l*r+M*f+_*d+p*T;n[14]=l*a+M*E+_*c+p*H;n[15]=l*o+M*u+_*v+p*R;return n};THREE.u.F=THREE.u.g;THREE.u.P=function(n,i,t){var e=t[0],r=t[1],a=t[2],o,w,f,E,u,s,d,c,v,h,T,H;if(i===n){n[12]=i[0]*e+i[4]*r+i[8]*a+i[12];n[13]=i[1]*e+i[5]*r+i[9]*a+i[13];n[14]=i[2]*e+i[6]*r+i[10]*a+i[14];n[15]=i[3]*e+i[7]*r+i[11]*a+i[15]}else{o=i[0];w=i[1];f=i[2];E=i[3];u=i[4];s=i[5];d=i[6];c=i[7];v=i[8];h=i[9];T=i[10];H=i[11];n[0]=o;n[1]=w;n[2]=f;n[3]=E;n[4]=u;n[5]=s;n[6]=d;n[7]=c;n[8]=v;n[9]=h;n[10]=T;n[11]=H;n[12]=o*e+u*r+v*a+i[12];n[13]=w*e+s*r+h*a+i[13];n[14]=f*e+d*r+T*a+i[14];n[15]=E*e+c*r+H*a+i[15]}return n};THREE.u.G=function(n,i,t){var e=t[0],r=t[1],a=t[2];n[0]=i[0]*e;n[1]=i[1]*e;n[2]=i[2]*e;n[3]=i[3]*e;n[4]=i[4]*r;n[5]=i[5]*r;n[6]=i[6]*r;n[7]=i[7]*r;n[8]=i[8]*a;n[9]=i[9]*a;n[10]=i[10]*a;n[11]=i[11]*a;n[12]=i[12];n[13]=i[13];n[14]=i[14];n[15]=i[15];return n};THREE.u.O=function(n,i,t,e){var r=e[0],a=e[1],o=e[2],w=Math.sqrt(r*r+a*a+o*o),f,E,u,s,d,c,v,h,T,H,R,l,M,_,p,m,y,A,k,g,b,F,P,x;if(Math.abs(w)<1e-5){return null}w=1/w;r*=w;a*=w;o*=w;f=Math.sin(t);E=Math.cos(t);u=1-E;s=i[0];d=i[1];c=i[2];v=i[3];h=i[4];T=i[5];H=i[6];R=i[7];l=i[8];M=i[9];_=i[10];p=i[11];m=r*r*u+E;y=a*r*u+o*f;A=o*r*u-a*f;k=r*a*u-o*f;g=a*a*u+E;b=o*a*u+r*f;F=r*o*u+a*f;P=a*o*u-r*f;x=o*o*u+E;n[0]=s*m+h*y+l*A;n[1]=d*m+T*y+M*A;n[2]=c*m+H*y+_*A;n[3]=v*m+R*y+p*A;n[4]=s*k+h*g+l*b;n[5]=d*k+T*g+M*b;n[6]=c*k+H*g+_*b;n[7]=v*k+R*g+p*b;n[8]=s*F+h*P+l*x;n[9]=d*F+T*P+M*x;n[10]=c*F+H*P+_*x;n[11]=v*F+R*P+p*x;if(i!==n){n[12]=i[12];n[13]=i[13];n[14]=i[14];n[15]=i[15]}return n};THREE.u.C=function(n,i,t){var e=Math.sin(t),r=Math.cos(t),a=i[4],o=i[5],w=i[6],f=i[7],E=i[8],u=i[9],s=i[10],d=i[11];if(i!==n){n[0]=i[0];n[1]=i[1];n[2]=i[2];n[3]=i[3];n[12]=i[12];n[13]=i[13];n[14]=i[14];n[15]=i[15]}n[4]=a*r+E*e;n[5]=o*r+u*e;n[6]=w*r+s*e;n[7]=f*r+d*e;n[8]=E*r-a*e;n[9]=u*r-o*e;n[10]=s*r-w*e;n[11]=d*r-f*e;return n};THREE.u.S=function(n,i,t){var e=Math.sin(t),r=Math.cos(t),a=i[0],o=i[1],w=i[2],f=i[3],E=i[8],u=i[9],s=i[10],d=i[11];if(i!==n){n[4]=i[4];n[5]=i[5];n[6]=i[6];n[7]=i[7];n[12]=i[12];n[13]=i[13];n[14]=i[14];n[15]=i[15]}n[0]=a*r-E*e;n[1]=o*r-u*e;n[2]=w*r-s*e;n[3]=f*r-d*e;n[8]=a*e+E*r;n[9]=o*e+u*r;n[10]=w*e+s*r;n[11]=f*e+d*r;return n};THREE.u.j=function(n,i,t){var e=Math.sin(t),r=Math.cos(t),a=i[0],o=i[1],w=i[2],f=i[3],E=i[4],u=i[5],s=i[6],d=i[7];if(i!==n){n[8]=i[8];n[9]=i[9];n[10]=i[10];n[11]=i[11];n[12]=i[12];n[13]=i[13];n[14]=i[14];n[15]=i[15]}n[0]=a*r+E*e;n[1]=o*r+u*e;n[2]=w*r+s*e;n[3]=f*r+d*e;n[4]=E*r-a*e;n[5]=u*r-o*e;n[6]=s*r-w*e;n[7]=d*r-f*e;return n};THREE.u.N=function(n,i){n[0]=1;n[1]=0;n[2]=0;n[3]=0;n[4]=0;n[5]=1;n[6]=0;n[7]=0;n[8]=0;n[9]=0;n[10]=1;n[11]=0;n[12]=i[0];n[13]=i[1];n[14]=i[2];n[15]=1;return n};THREE.u.q=function(n,i){n[0]=i[0];n[1]=0;n[2]=0;n[3]=0;n[4]=0;n[5]=i[1];n[6]=0;n[7]=0;n[8]=0;n[9]=0;n[10]=i[2];n[11]=0;n[12]=0;n[13]=0;n[14]=0;n[15]=1;return n};THREE.u.D=function(n,i,t){var e=t[0],r=t[1],a=t[2],o=Math.sqrt(e*e+r*r+a*a),w,f,E;if(Math.abs(o)<1e-5){return null}o=1/o;e*=o;r*=o;a*=o;w=Math.sin(i);f=Math.cos(i);E=1-f;n[0]=e*e*E+f;n[1]=r*e*E+a*w;n[2]=a*e*E-r*w;n[3]=0;n[4]=e*r*E-a*w;n[5]=r*r*E+f;n[6]=a*r*E+e*w;n[7]=0;n[8]=e*a*E+r*w;n[9]=r*a*E-e*w;n[10]=a*a*E+f;n[11]=0;n[12]=0;n[13]=0;n[14]=0;n[15]=1;return n};THREE.u.L=function(n,i){var t=Math.sin(i),e=Math.cos(i);n[0]=1;n[1]=0;n[2]=0;n[3]=0;n[4]=0;n[5]=e;n[6]=t;n[7]=0;n[8]=0;n[9]=-t;n[10]=e;n[11]=0;n[12]=0;n[13]=0;n[14]=0;n[15]=1;return n};THREE.u.Z=function(n,i){var t=Math.sin(i),e=Math.cos(i);n[0]=e;n[1]=0;n[2]=-t;n[3]=0;n[4]=0;n[5]=1;n[6]=0;n[7]=0;n[8]=t;n[9]=0;n[10]=e;n[11]=0;n[12]=0;n[13]=0;n[14]=0;n[15]=1;return n};THREE.u.B=function(n,i){var t=Math.sin(i),e=Math.cos(i);n[0]=e;n[1]=t;n[2]=0;n[3]=0;n[4]=-t;n[5]=e;n[6]=0;n[7]=0;n[8]=0;n[9]=0;n[10]=1;n[11]=0;n[12]=0;n[13]=0;n[14]=0;n[15]=1;return n};THREE.u.X=function(n,i,t){var e=i[0],r=i[1],a=i[2],o=i[3],w=e+e,f=r+r,E=a+a,u=e*w,s=e*f,d=e*E,c=r*f,v=r*E,h=a*E,T=o*w,H=o*f,R=o*E;n[0]=1-(c+h);n[1]=s+R;n[2]=d-H;n[3]=0;n[4]=s-R;n[5]=1-(u+h);n[6]=v+T;n[7]=0;n[8]=d+H;n[9]=v-T;n[10]=1-(u+c);n[11]=0;n[12]=t[0];n[13]=t[1];n[14]=t[2];n[15]=1;return n};THREE.u.Y=function(n,i){n[0]=i[12];n[1]=i[13];n[2]=i[14];return n};THREE.u.V=function(n,i){var t=i[0]+i[5]+i[10];var e=0;if(t>0){e=Math.sqrt(t+1)*2;n[3]=.25*e;n[0]=(i[6]-i[9])/e;n[1]=(i[8]-i[2])/e;n[2]=(i[1]-i[4])/e}else if(i[0]>i[5]&i[0]>i[10]){e=Math.sqrt(1+i[0]-i[5]-i[10])*2;n[3]=(i[6]-i[9])/e;n[0]=.25*e;n[1]=(i[1]+i[4])/e;n[2]=(i[8]+i[2])/e}else if(i[5]>i[10]){e=Math.sqrt(1+i[5]-i[0]-i[10])*2;n[3]=(i[8]-i[2])/e;n[0]=(i[1]+i[4])/e;n[1]=.25*e;n[2]=(i[6]+i[9])/e}else{e=Math.sqrt(1+i[10]-i[0]-i[5])*2;n[3]=(i[1]-i[4])/e;n[0]=(i[8]+i[2])/e;n[1]=(i[6]+i[9])/e;n[2]=.25*e}return n};THREE.u.U=function(n,i,t,e){var r=i[0],a=i[1],o=i[2],w=i[3],f=r+r,E=a+a,u=o+o,s=r*f,d=r*E,c=r*u,v=a*E,h=a*u,T=o*u,H=w*f,R=w*E,l=w*u,M=e[0],_=e[1],p=e[2];n[0]=(1-(v+T))*M;n[1]=(d+l)*M;n[2]=(c-R)*M;n[3]=0;n[4]=(d-l)*_;n[5]=(1-(s+T))*_;n[6]=(h+H)*_;n[7]=0;n[8]=(c+R)*p;n[9]=(h-H)*p;n[10]=(1-(s+v))*p;n[11]=0;n[12]=t[0];n[13]=t[1];n[14]=t[2];n[15]=1;return n};THREE.u.I=function(n,i,t,e,r){var a=i[0],o=i[1],w=i[2],f=i[3],E=a+a,u=o+o,s=w+w,d=a*E,c=a*u,v=a*s,h=o*u,T=o*s,H=w*s,R=f*E,l=f*u,M=f*s,_=e[0],p=e[1],m=e[2],y=r[0],A=r[1],k=r[2];n[0]=(1-(h+H))*_;n[1]=(c+M)*_;n[2]=(v-l)*_;n[3]=0;n[4]=(c-M)*p;n[5]=(1-(d+H))*p;n[6]=(T+R)*p;n[7]=0;n[8]=(v+l)*m;n[9]=(T-R)*m;n[10]=(1-(d+h))*m;n[11]=0;n[12]=t[0]+y-(n[0]*y+n[4]*A+n[8]*k);n[13]=t[1]+A-(n[1]*y+n[5]*A+n[9]*k);n[14]=t[2]+k-(n[2]*y+n[6]*A+n[10]*k);n[15]=1;return n};THREE.u.W=function(n,i){var t=i[0],e=i[1],r=i[2],a=i[3],o=t+t,w=e+e,f=r+r,E=t*o,u=e*o,s=e*w,d=r*o,c=r*w,v=r*f,h=a*o,T=a*w,H=a*f;n[0]=1-s-v;n[1]=u+H;n[2]=d-T;n[3]=0;n[4]=u-H;n[5]=1-E-v;n[6]=c+h;n[7]=0;n[8]=d+T;n[9]=c-h;n[10]=1-E-s;n[11]=0;n[12]=0;n[13]=0;n[14]=0;n[15]=1;return n};THREE.u.$=function(n,i,t,e,r,a,o){var w=1/(t-i),f=1/(r-e),E=1/(a-o);n[0]=a*2*w;n[1]=0;n[2]=0;n[3]=0;n[4]=0;n[5]=a*2*f;n[6]=0;n[7]=0;n[8]=(t+i)*w;n[9]=(r+e)*f;n[10]=(o+a)*E;n[11]=-1;n[12]=0;n[13]=0;n[14]=o*a*2*E;n[15]=0;return n};THREE.u.J=function(n,i,t,e,r){var a=1/Math.tan(i/2);var o=1/(e-r);n[0]=a/t;n[1]=0;n[2]=0;n[3]=0;n[4]=0;n[5]=a;n[6]=0;n[7]=0;n[8]=0;n[9]=0;n[10]=(r+e)*o;n[11]=-1;n[12]=0;n[13]=0;n[14]=2*r*e*o;n[15]=0;return n};THREE.u.K=function(n,i,t,e){var r=Math.tan(i.upDegrees*Math.PI/180),a=Math.tan(i.downDegrees*Math.PI/180),o=Math.tan(i.leftDegrees*Math.PI/180),w=Math.tan(i.rightDegrees*Math.PI/180),f=2/(o+w),E=2/(r+a);n[0]=f;n[1]=0;n[2]=0;n[3]=0;n[4]=0;n[5]=E;n[6]=0;n[7]=0;n[8]=-((o-w)*f*.5);n[9]=(r-a)*E*.5;n[10]=e/(t-e);n[11]=-1;n[12]=0;n[13]=0;n[14]=e*t/(t-e);n[15]=0;return n};THREE.u.nn=function(n,i,t,e,r,a,o){var w=1/(i-t),f=1/(e-r),E=1/(a-o);n[0]=-2*w;n[1]=0;n[2]=0;n[3]=0;n[4]=0;n[5]=-2*f;n[6]=0;n[7]=0;n[8]=0;n[9]=0;n[10]=2*E;n[11]=0;n[12]=(i+t)*w;n[13]=(r+e)*f;n[14]=(o+a)*E;n[15]=1;return n};THREE.u.in=function(n,i,t,e){var r=i[0],a=i[1],o=i[2],w=e[0],f=e[1],E=e[2],u=t[0],s=t[1],d=t[2];if(Math.abs(r-u)<Algorithm.EPSILON&&Math.abs(a-s)<Algorithm.EPSILON&&Math.abs(o-d)<Algorithm.EPSILON){return Mat4.identity(n)}var c=r-u;var v=a-s;var h=o-d;var T=1/Math.sqrt(c*c+v*v+h*h);c*=T;v*=T;h*=T;var H=f*h-E*v;var R=E*c-w*h;var l=w*v-f*c;T=1/Math.sqrt(H*H+R*R+l*l);H*=T;R*=T;l*=T;var M=v*l-h*R;var _=h*H-c*l;var p=c*R-v*H;T=1/Math.sqrt(M*M+_*_+p*p);M*=T;_*=T;p*=T;n[0]=H;n[1]=M;n[2]=c;n[3]=0;n[4]=R;n[5]=_;n[6]=v;n[7]=0;n[8]=l;n[9]=p;n[10]=h;n[11]=0;n[12]=-(H*r+R*a+l*o);n[13]=-(M*r+_*a+p*o);n[14]=-(c*r+v*a+h*o);n[15]=1;return n};THREE.u.tn=function(n){return"Mat4("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+", "+n[6]+", "+n[7]+", "+n[8]+", "+n[9]+", "+n[10]+", "+n[11]+", "+n[12]+", "+n[13]+", "+n[14]+", "+n[15]+")"};THREE.u.en=function(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)+Math.pow(n[3],2)+Math.pow(n[4],2)+Math.pow(n[5],2)+Math.pow(n[6],2)+Math.pow(n[7],2)+Math.pow(n[8],2)+Math.pow(n[9],2)+Math.pow(n[10],2)+Math.pow(n[11],2)+Math.pow(n[12],2)+Math.pow(n[13],2)+Math.pow(n[14],2)+Math.pow(n[15],2))};THREE.u.rn=function(n,i,t){n[0]=i[0]+t[0];n[1]=i[1]+t[1];n[2]=i[2]+t[2];n[3]=i[3]+t[3];n[4]=i[4]+t[4];n[5]=i[5]+t[5];n[6]=i[6]+t[6];n[7]=i[7]+t[7];n[8]=i[8]+t[8];n[9]=i[9]+t[9];n[10]=i[10]+t[10];n[11]=i[11]+t[11];n[12]=i[12]+t[12];n[13]=i[13]+t[13];n[14]=i[14]+t[14];n[15]=i[15]+t[15];return n};THREE.u.an=function(n,i,t){n[0]=i[0]-t[0];n[1]=i[1]-t[1];n[2]=i[2]-t[2];n[3]=i[3]-t[3];n[4]=i[4]-t[4];n[5]=i[5]-t[5];n[6]=i[6]-t[6];n[7]=i[7]-t[7];n[8]=i[8]-t[8];n[9]=i[9]-t[9];n[10]=i[10]-t[10];n[11]=i[11]-t[11];n[12]=i[12]-t[12];n[13]=i[13]-t[13];n[14]=i[14]-t[14];n[15]=i[15]-t[15];return n};THREE.u.on=THREE.u.an;THREE.u.wn=function(n,i,t){n[0]=i[0]*t;n[1]=i[1]*t;n[2]=i[2]*t;n[3]=i[3]*t;n[4]=i[4]*t;n[5]=i[5]*t;n[6]=i[6]*t;n[7]=i[7]*t;n[8]=i[8]*t;n[9]=i[9]*t;n[10]=i[10]*t;n[11]=i[11]*t;n[12]=i[12]*t;n[13]=i[13]*t;n[14]=i[14]*t;n[15]=i[15]*t;return n};THREE.u.fn=function(n,i,t,e){n[0]=i[0]+t[0]*e;n[1]=i[1]+t[1]*e;n[2]=i[2]+t[2]*e;n[3]=i[3]+t[3]*e;n[4]=i[4]+t[4]*e;n[5]=i[5]+t[5]*e;n[6]=i[6]+t[6]*e;n[7]=i[7]+t[7]*e;n[8]=i[8]+t[8]*e;n[9]=i[9]+t[9]*e;n[10]=i[10]+t[10]*e;n[11]=i[11]+t[11]*e;n[12]=i[12]+t[12]*e;n[13]=i[13]+t[13]*e;n[14]=i[14]+t[14]*e;n[15]=i[15]+t[15]*e;return n};THREE.u.En=function(n,i){return n[0]===i[0]&&n[1]===i[1]&&n[2]===i[2]&&n[3]===i[3]&&n[4]===i[4]&&n[5]===i[5]&&n[6]===i[6]&&n[7]===i[7]&&n[8]===i[8]&&n[9]===i[9]&&n[10]===i[10]&&n[11]===i[11]&&n[12]===i[12]&&n[13]===i[13]&&n[14]===i[14]&&n[15]===i[15]};THREE.u.un=function(n,i){var t=n[0],e=n[1],r=n[2],a=n[3],o=n[4],w=n[5],f=n[6],E=n[7],u=n[8],s=n[9],d=n[10],c=n[11],v=n[12],h=n[13],T=n[14],H=n[15];var R=i[0],l=i[1],M=i[2],_=i[3],p=i[4],m=i[5],y=i[6],A=i[7],k=i[8],g=i[9],b=i[10],F=i[11],P=i[12],x=i[13],G=i[14],O=i[15];return Math.abs(t-R)<=1e-5*Math.max(1,Math.abs(t),Math.abs(R))&&Math.abs(e-l)<=1e-5*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(r-M)<=1e-5*Math.max(1,Math.abs(r),Math.abs(M))&&Math.abs(a-_)<=1e-5*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(o-p)<=1e-5*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(w-m)<=1e-5*Math.max(1,Math.abs(w),Math.abs(m))&&Math.abs(f-y)<=1e-5*Math.max(1,Math.abs(f),Math.abs(y))&&Math.abs(E-A)<=1e-5*Math.max(1,Math.abs(E),Math.abs(A))&&Math.abs(u-k)<=1e-5*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(s-g)<=1e-5*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(d-b)<=1e-5*Math.max(1,Math.abs(d),Math.abs(b))&&Math.abs(c-F)<=1e-5*Math.max(1,Math.abs(c),Math.abs(F))&&Math.abs(v-P)<=1e-5*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(h-x)<=1e-5*Math.max(1,Math.abs(h),Math.abs(x))&&Math.abs(T-G)<=1e-5*Math.max(1,Math.abs(T),Math.abs(G))&&Math.abs(H-O)<=1e-5*Math.max(1,Math.abs(H),Math.abs(O))};THREE.u.sn=function(n,i){n[0]=i[0];n[1]=i[4];n[2]=i[8];var t=Vec3.len(n);n[0]=i[1];n[1]=i[5];n[2]=i[9];var e=Vec3.len(n);n[0]=i[2];n[1]=i[6];n[2]=i[10];var r=Vec3.len(n);Vec3.set(n,t,e,r);return n};THREE.u.dn=function(n,i){var t=new Float32Array(3);t[0]=i[0];t[1]=i[4];t[2]=i[8];n[0]=new Float32Array(3);t[0]=i[1];t[1]=i[5];t[2]=i[9];n[1]=new Float32Array(3);t[0]=i[2];t[1]=i[6];t[2]=i[10];n[2]=new Float32Array(3);return n};THREE.u.cn=function(n,i){i[0]=n[0];i[1]=n[1];i[2]=n[2];i[4]=n[4];i[5]=n[5];i[6]=n[6];i[8]=n[8];i[9]=n[9];i[10]=n[10]};THREE.u.vn=function(n,i,t,e){var r=Matrix4.new();r[0]=n[0];r[1]=n[1];r[2]=n[2];r[4]=i[0];r[5]=i[1];r[6]=i[2];r[8]=t[0];r[9]=t[1];r[10]=t[2];r[12]=e[0];r[13]=e[1];r[14]=e[2];return r};THREE.u.hn=function(n,i){var t=new Float32Array(4);t[0]=n[0];t[1]=n[1];t[2]=n[2];t[3]=n[3];var e=THREE.u.s();THREE.u.l(e,i);var r=e[0],a=e[1],o=e[2],w=e[3],f=e[4],E=e[5],u=e[6],s=e[7],d=e[8],c=e[9],v=e[10],h=e[11],T=e[12],H=e[13],R=e[14],l=e[15];var M=t[0],_=t[1],p=t[2],m=t[3];var y=new Float32Array(4);y[0]=M*r+_*f+p*d+m*T;y[1]=M*a+_*E+p*c+m*H;y[2]=M*o+_*u+p*v+m*R;y[3]=M*w+_*s+p*h+m*l;return y};THREE.u.Tn=function(n,i){n[12]=i[0];n[13]=i[1];n[14]=i[2]};THREE.Hn=function(){};THREE.Hn.prototype.constructor=THREE.Hn;THREE.Hn.s=function(){var n=new Float32Array(4);n[0]=0;n[1]=0;n[2]=0;n[3]=1;return n};THREE.Hn.v=function(){var n=new Float64Array(4);n[0]=0;n[1]=0;n[2]=0;n[3]=1;return n};THREE.Hn.h=function(n){var i=new Float32Array(4);i[0]=n[0];i[1]=n[1];i[2]=n[2];i[3]=n[3];return i};THREE.Hn.T=function(n){var i=new Float64Array(4);i[0]=n[0];i[1]=n[1];i[2]=n[2];i[3]=n[3];return i};THREE.Hn.H=function(n,i,t,e){var r=new Float32Array(4);r[0]=n;r[1]=i;r[2]=t;r[3]=e;return r};THREE.Hn.R=function(n,i,t,e){var r=new Float64Array(4);r[0]=n;r[1]=i;r[2]=t;r[3]=e;return r};THREE.Hn.l=function(n,i){n[0]=i[0];n[1]=i[1];n[2]=i[2];n[3]=i[3];return n};THREE.Hn.M=function(n,i,t,e,r){n[0]=i;n[1]=t;n[2]=e;n[3]=r;return n};THREE.Hn.Rn=function(n,i,t,e,r){var a=Math.sqrt(i*i+t*t+e*e);if(a<1e-5){return this.init(r)}var o=1/a;var w=Math.cos(.5*n);var f=Math.sin(.5*n);var E=f*o;r[0]=i*E;r[1]=t*E;r[2]=e*E;r[3]=w;return r};THREE.Hn.g=function(n,i,t){t[0]=n[0]*i[3]+n[1]*i[2]-n[2]*i[1]+n[3]*i[0];t[1]=-n[0]*i[2]+n[1]*i[3]+n[2]*i[0]+n[3]*i[1];t[2]=n[0]*i[1]-n[1]*i[0]+n[2]*i[3]+n[3]*i[2];t[3]=-n[0]*i[0]-n[1]*i[1]-n[2]*i[2]+n[3]*i[3];return t};THREE.Hn.F=THREE.Hn.g;THREE.Hn.ln=function(n,i,t){var e=i[0];var r=i[1];var a=i[2];var o=n[0];var w=n[1];var f=n[2];var E=n[3];var u=E*e+w*a-f*r;var s=E*r+f*e-o*a;var d=E*a+o*r-w*e;var c=-o*e-w*r-f*a;t[0]=u*E+c*-o+s*-f-d*-w;t[1]=s*E+c*-w+d*-o-u*-f;t[2]=d*E+c*-f+u*-w-s*-o;return t};THREE.Hn.Mn=function(n){var i=new Float32Array(3);var t=2*Math.acos(n[3]);i[0]=n[0]/Math.sqrt(1-n[3]*n[3]);i[1]=n[1]/Math.sqrt(1-n[3]*n[3]);i[2]=n[2]/Math.sqrt(1-n[3]*n[3]);return{axis:i,angle:t}};THREE.Hn._n=function(n,i,t){var e=new Float32Array(4);var r=new Float32Array(4);e[0]=n[0];e[1]=n[1];e[2]=n[2];e[3]=n[3];r[0]=i[0];r[1]=i[1];r[2]=i[2];r[3]=i[3];var a=e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3];var o=Math.acos(a);if(o>.01){e[0]=e[0]*(Math.sin(o*(1-t))/Math.sin(o));e[1]=e[1]*(Math.sin(o*(1-t))/Math.sin(o));e[2]=e[2]*(Math.sin(o*(1-t))/Math.sin(o));e[3]=e[3]*(Math.sin(o*(1-t))/Math.sin(o));r[0]=r[0]*(Math.sin(o*t)/Math.sin(o));r[1]=r[1]*(Math.sin(o*t)/Math.sin(o));r[2]=r[2]*(Math.sin(o*t)/Math.sin(o));r[3]=r[3]*(Math.sin(o*t)/Math.sin(o))}var w=new Float32Array(4);w[0]=e[0]+r[0];w[1]=e[1]+r[1];w[2]=e[2]+r[2];w[3]=e[3]+r[3];if(a<-.999){var f=t*(1-t);if(w[0]===0){w[0]+=f}else{w[1]+=f}}var E=w[0]*w[0]+w[1]*w[1]+w[2]*w[2]+w[3]*w[3];if(E>0){E=1/Math.sqrt(E);w[0]=w[0]*E;w[1]=w[1]*E;w[2]=w[2]*E;w[3]=w[3]*E}return w};THREE.pn=function(){};THREE.pn.prototype.constructor=THREE.pn;THREE.pn.s=function(){var n=new Float32Array(3);n[0]=0;n[1]=0;n[2]=0;return n};THREE.pn.v=function(){var n=new Float64Array(3);n[0]=0;n[1]=0;n[2]=0;return n};THREE.pn.h=function(n){var i=new Float32Array(3);i[0]=n[0];i[1]=n[1];i[2]=n[2];return i};THREE.pn.T=function(n){var i=new Float64Array(3);i[0]=n[0];i[1]=n[1];i[2]=n[2];return i};THREE.pn.H=function(n,i,t){var e=new Float32Array(3);e[0]=n;e[1]=i;e[2]=t;return e};THREE.pn.R=function(n,i,t){var e=new Float64Array(3);e[0]=n;e[1]=i;e[2]=t;return e};THREE.pn.l=function(n,i){n[0]=i[0];n[1]=i[1];n[2]=i[2];return n};THREE.pn.M=function(n,i,t,e){n[0]=i;n[1]=t;n[2]=e;return n};THREE.pn.rn=function(n,i,t){n[0]=i[0]+t[0];n[1]=i[1]+t[1];n[2]=i[2]+t[2];return n};function _subtract(n,i,t){n[0]=i[0]-t[0];n[1]=i[1]-t[1];n[2]=i[2]-t[2];return n}THREE.pn.an=THREE.pn.on=_subtract;function _multiply(n,i,t){n[0]=i[0]*t[0];n[1]=i[1]*t[1];n[2]=i[2]*t[2];return n}THREE.pn.g=THREE.pn.F=_multiply;function _divide(n,i,t){n[0]=i[0]/t[0];n[1]=i[1]/t[1];n[2]=i[2]/t[2];return n}THREE.pn.mn=THREE.pn.yn=_divide;THREE.pn.An=function(n,i){n[0]=Math.ceil(i[0]);n[1]=Math.ceil(i[1]);n[2]=Math.ceil(i[2]);return n};THREE.pn.kn=function(n,i){n[0]=Math.floor(i[0]);n[1]=Math.floor(i[1]);n[2]=Math.floor(i[2]);return n};THREE.pn.gn=function(n,i,t){n[0]=Math.min(i[0],t[0]);n[1]=Math.min(i[1],t[1]);n[2]=Math.min(i[2],t[2]);return n};THREE.pn.bn=function(n,i,t){n[0]=Math.max(i[0],t[0]);n[1]=Math.max(i[1],t[1]);n[2]=Math.max(i[2],t[2]);return n};THREE.pn.Fn=function(n,i){n[0]=Math.round(i[0]);n[1]=Math.round(i[1]);n[2]=Math.round(i[2]);return n};THREE.pn.G=function(n,i,t){n[0]=i[0]*t;n[1]=i[1]*t;n[2]=i[2]*t;return n};THREE.pn.Pn=function(n,i,t,e){n[0]=i[0]+t[0]*e;n[1]=i[1]+t[1]*e;n[2]=i[2]+t[2]*e;return n};function _distance(n,i){var t=i[0]-n[0],e=i[1]-n[1],r=i[2]-n[2];return Math.sqrt(t*t+e*e+r*r)}THREE.pn.xn=THREE.pn.Gn=_distance;function _squaredDistance(n,i){var t=i[0]-n[0],e=i[1]-n[1],r=i[2]-n[2];return t*t+e*e+r*r}THREE.pn.On=THREE.pn.Cn=_squaredDistance;function _length(n){var i=n[0],t=n[1],e=n[2];return Math.sqrt(i*i+t*t+e*e)}THREE.pn.Sn=THREE.pn.jn=_length;function _squaredLength(n){var i=n[0],t=n[1],e=n[2];return i*i+t*t+e*e}THREE.pn.Nn=THREE.pn.qn=_squaredLength;THREE.pn.Dn=function(n,i){var t=i[0],e=i[1],r=i[2];var a=t*t+e*e+r*r;if(a>0){a=1/Math.sqrt(a);n[0]=i[0]*a;n[1]=i[1]*a;n[2]=i[2]*a}return n};THREE.pn.Ln=function(n,i){n[0]=-i[0];n[1]=-i[1];n[2]=-i[2];return n};THREE.pn.zn=function(n,i){n[0]=1/i[0];n[1]=1/i[1];n[2]=1/i[2];return n};THREE.pn.Zn=function(n,i){return n[0]*i[0]+n[1]*i[1]+n[2]*i[2]};THREE.pn.Bn=function(n,i,t){var e=i[0],r=i[1],a=i[2],o=t[0],w=t[1],f=t[2];n[0]=r*f-a*w;n[1]=a*o-e*f;n[2]=e*w-r*o;return n};THREE.pn.Xn=function(n,i,t,e){var r=i[0],a=i[1],o=i[2];n[0]=r+e*(t[0]-r);n[1]=a+e*(t[1]-a);n[2]=o+e*(t[2]-o);return n};THREE.pn.Yn=function(n,i,t,e,r,a){var o=a*a,w=o*(2*a-3)+1,f=o*(a-2)+a,E=o*(a-1),u=o*(3-2*a);n[0]=i[0]*w+t[0]*f+e[0]*E+r[0]*u;n[1]=i[1]*w+t[1]*f+e[1]*E+r[1]*u;n[2]=i[2]*w+t[2]*f+e[2]*E+r[2]*u;return n};THREE.pn.Vn=function(n,i,t,e,r,a){var o=1-a,w=o*o,f=a*a,E=w*o,u=3*a*w,s=3*f*o,d=f*a;n[0]=i[0]*E+t[0]*u+e[0]*s+r[0]*d;n[1]=i[1]*E+t[1]*u+e[1]*s+r[1]*d;n[2]=i[2]*E+t[2]*u+e[2]*s+r[2]*d;return n};THREE.pn.Un=function(n,i){i=i||1;var t=Math.random()*2*Math.PI;var e=Math.random()*2-1;var r=Math.sqrt(1-e*e)*i;n[0]=Math.cos(t)*r;n[1]=Math.sin(t)*r;n[2]=e*i;return n};THREE.pn.In=function(n,i,t){var e=i[0],r=i[1],a=i[2],o=t[3]*e+t[7]*r+t[11]*a+t[15];o=o||1;n[0]=(t[0]*e+t[4]*r+t[8]*a+t[12])/o;n[1]=(t[1]*e+t[5]*r+t[9]*a+t[13])/o;n[2]=(t[2]*e+t[6]*r+t[10]*a+t[14])/o;return n};THREE.pn.Wn=function(n,i,t){var e=i[0],r=i[1],a=i[2];n[0]=e*t[0]+r*t[3]+a*t[6];n[1]=e*t[1]+r*t[4]+a*t[7];n[2]=e*t[2]+r*t[5]+a*t[8];return n};THREE.pn.Qn=function(n,i,t){var e=i[0],r=i[1],a=i[2],o=t[0],w=t[1],f=t[2],E=t[3],u=E*e+w*a-f*r,s=E*r+f*e-o*a,d=E*a+o*r-w*e,c=-o*e-w*r-f*a;n[0]=u*E+c*-o+s*-f-d*-w;n[1]=s*E+c*-w+d*-o-u*-f;n[2]=d*E+c*-f+u*-w-s*-o;return n};THREE.pn.C=function(n,i,t,e){var r=[],a=[];r[0]=i[0]-t[0];r[1]=i[1]-t[1];r[2]=i[2]-t[2];a[0]=r[0];a[1]=r[1]*Math.cos(e)-r[2]*Math.sin(e);a[2]=r[1]*Math.sin(e)+r[2]*Math.cos(e);n[0]=a[0]+t[0];n[1]=a[1]+t[1];n[2]=a[2]+t[2];return n};THREE.pn.S=function(n,i,t,e){var r=[],a=[];r[0]=i[0]-t[0];r[1]=i[1]-t[1];r[2]=i[2]-t[2];a[0]=r[2]*Math.sin(e)+r[0]*Math.cos(e);a[1]=r[1];a[2]=r[2]*Math.cos(e)-r[0]*Math.sin(e);n[0]=a[0]+t[0];n[1]=a[1]+t[1];n[2]=a[2]+t[2];return n};THREE.pn.j=function(n,i,t,e){var r=[],a=[];r[0]=i[0]-t[0];r[1]=i[1]-t[1];r[2]=i[2]-t[2];a[0]=r[0]*Math.cos(e)-r[1]*Math.sin(e);a[1]=r[0]*Math.sin(e)+r[1]*Math.cos(e);a[2]=r[2];n[0]=a[0]+t[0];n[1]=a[1]+t[1];n[2]=a[2]+t[2];return n};THREE.pn.$n=function(n,i,t,e,r,a){var o,w;if(!i){i=3}if(!t){t=0}if(e){w=Math.min(e*i+t,n.length)}else{w=n.length}var f=Vector3.create();for(o=t;o<w;o+=i){f[0]=n[o];f[1]=n[o+1];f[2]=n[o+2];r(f,f,a);n[o]=f[0];n[o+1]=f[1];n[o+2]=f[2]}return n};THREE.pn.Jn=function(n,i){var t=THREE.pn.H(n[0],n[1],n[2]);var e=THREE.pn.H(i[0],i[1],i[2]);THREE.pn.Dn(t,t);THREE.pn.Dn(e,e);var r=THREE.pn.Zn(t,e);if(r>1){return 0}else{return Math.acos(r)}};THREE.pn.tn=function(n){return"Vec3("+n[0]+", "+n[1]+", "+n[2]+")"};THREE.pn.En=function(n,i){return n[0]===i[0]&&n[1]===i[1]&&n[2]===i[2]};THREE.pn.un=function(n,i){var t=n[0],e=n[1],r=n[2];var a=i[0],o=i[1],w=i[2];return Math.abs(t-a)<=1e-5*Math.max(1,Math.abs(t),Math.abs(a))&&Math.abs(e-o)<=1e-5*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(r-w)<=1e-5*Math.max(1,Math.abs(r),Math.abs(w))};THREE.Kn=function(){};THREE.Kn.prototype.constructor=THREE.Kn;Object.assign(THREE.Kn.prototype,{ni:function(n,i,t){var e=[];var r=[];var a=[0,i,0];var o=t||3;var w=Math.PI*2/o;var f=[];for(var E=0;E<o;E++){f[E*3]=n*Math.cos(w*E);f[E*3+1]=0;f[E*3+2]=n*Math.sin(w*E)}for(var E=0;E<o;E++){e[E*3]=a[0];e[E*3+1]=a[1];e[E*3+2]=a[2]}for(var E=0;E<f.length;E++){e[3*o+E]=f[E]}for(var E=0;E<f.length;E++){e[2*3*o+E]=f[E]}e.push(0,0,0);for(var E=o;E<2*o-1;E++){r.push(E,E-o,E+1);r.push(3*o,o+E,o+E+1)}r.push(2*o-1,o-1,o);r.push(3*o,3*o-1,2*o);return{ii:e,ti:r}},ei:function(n,i,t){var e=[];var r=[];n=n||1;i=i||1;var a=t||3;var o=Math.PI*2/a;var w=[];var f=[];for(var E=0;E<a;E++){w[3*E]=n*Math.cos(o*E);w[3*E+1]=0;w[3*E+2]=n*Math.sin(o*E);f[3*E]=n*Math.cos(o*E);f[3*E+1]=i;f[3*E+2]=n*Math.sin(o*E)}for(var E=0;E<w.length;E++){e[E]=w[E];e[w.length+E]=f[E];e[2*w.length+E]=w[E];e[3*w.length+E]=f[E]}e.push(0,0,0);e.push(0,i,0);for(var E=0;E<a-1;E++){r.push(4*a,E,E+1);r.push(4*a+1,a+E+1,a+E);r.push(2*a+E,3*a+E,2*a+E+1);r.push(3*a+E,3*a+E+1,2*a+E+1)}r.push(4*a,a-1,0);r.push(4*a+1,a,2*a-1);r.push(3*a-1,4*a-1,2*a);r.push(4*a-1,3*a,2*a);return{ii:e,ti:r}},ri:function(n,i,t){var e=[];var r=0;var a=Math.PI*2;var o=0;var w=Math.PI;var f=o+w;var E,u;var s=0;var d=[];var c={};var v={};var h=[];for(u=0;u<=t;u++){var T=[];var H=u/t;for(E=0;E<=i;ix++){var R=E/i;c.x=-n*Math.cos(r+R*a)*Math.sin(o+H*w);c.y=n*Math.cos(o+H*w);c.z=n*Math.sin(r+R*a)*Math.sin(o+H*w);e.push(c.x,c.y,c.z);T.push(s++)}d.push(T)}for(u=0;u<t;u++){for(E=0;E<i;E++){var l=d[u][E+1];var M=d[u][E];var _=d[u+1][E];var p=d[u+1][E+1];if(u!==0||o>0)h.push(l,M,p);if(u!==t-1||f<Math.PI)h.push(M,_,p)}}return{ii:e,ti:h}},ai:function(n,i){var t=[];var e=[];var r=n||.5;var a=i||.5;t.push(r,0,0);t.push(0,a,0);t.push(0,0,0);t.push(r,0,0);t.push(r,a,0);t.push(0,a,0);e.push(0,1,2,3,4,5);return{ii:t,ti:e}},oi:function(n,i){var t=[];var e=[];var a=n||.5;var o=i||1;var w=Math.PI/(2*i);for(var f=0;f<o;f++){t.push(a*Math.cos(f*w),r*Math.sin(f*w),0);t.push(a*Math.cos((f+1)*w),r*Math.sin((f+1)*w),0);t.push(0,0,0)}var E=t.length/3;for(var f=0;f<E;f++){e.push(f)}return{ii:t,ti:e}},wi:function(n,i){var t=[];var e=[];var r=n||.5;var a=i||.5;t.push(r,0,0,0,a,0,0,0,0);e.push(0,1,2);return{ii:t,ti:e}},fi:function(n,i,t,e,r){n=n||1;i=i||.4;t=Math.floor(t)||8;e=Math.floor(e)||6;r=r||Math.PI*2;var a=[];var o=[];var w=[];var f,E;for(f=0;f<=t;f++){for(E=0;E<=e;E++){var u=E/e*r;var s=f/t*Math.PI*2;w[0]=(n+i*Math.cos(s))*Math.cos(u);w[1]=(n+i*Math.cos(s))*Math.sin(u);w[2]=i*Math.sin(s);o.push(w[0],w[1],w[2])}}for(f=1;f<=t;f++){for(E=1;E<=e;E++){var d=(e+1)*f+E-1;var c=(e+1)*(f-1)+E-1;var v=(e+1)*(f-1)+E;var h=(e+1)*f+E;a.push(d,c,h);a.push(c,v,h)}}return{ii:o,ti:a}}});THREE.Ei=function(){};Object.assign(THREE.Ei.prototype,{ui:function(n,i,t){var e=new THREE.AmbientLight(i,t);n.add(e)},si:function(n,i,t){var e=new THREE.PointLight(i,t);n.add(e)}});THREE.di=function(){};Object.assign(THREE.di.prototype,{ci:function(n,i,t,e,r){var a=i/t;return new THREE.PerspectiveCamera(n,a,e,r)},vi:function(n,i,t,e){var r=THREE.pn.s();var a=n.projectionMatrixInverse.elements;var o=n.matrixWorld.elements;var w=[0,0,0];w[0]=i[0]*2/t-1;w[1]=1-i[1]*2/e;w[2]=i[2];THREE.pn.In(r,w,a);THREE.pn.In(r,r,o);return r},hi:function(n,i,t,e){var r=THREE.pn.s();var a=n.matrixWorldInverse.elements;THREE.pn.In(i,i,a);THREE.pn.In(r,i,n.projectionMatrix.elements);r[0]=r[0]*t/2+t/2;r[1]=-r[1]*e/2+e/2;return[r[0],r[1]]}});THREE.Ti=function(){};Object.assign(THREE.Ti.prototype,{Hi:function(){window.Ri=new THREE.TrackballControls(window.li,window.Mi.domElement);window.Ri.rotateSpeed=1.6;window.Ri.zoomSpeed=1.6;window.Ri.panSpeed=.6;window.Ri.staticMoving=true;window.Ri.dynamicDampingFactor=.2;window.Ri.minDistance=window.li.near;window.Ri.maxDistance=window.li.far},_i:function(n,i){var t=new THREE.pi;t.mi(n,i);var e=t.yi(t.Ai);var r=this.ki(e);if(r===Infinity){r=1}this.gi(r*16);this.bi(r*16);var a=THREE.pn.H(0,0,r*3);this.Fi(a);var o=this.Pi(e);this.xi(o);var w=[0,1,0];this.Gi(w);this.Oi()},Oi:function(){if(window.o){window.o.position.set(0,0,6);window.o.up.set(0,1,0);window.o.lookAt(new THREE.Vector3(0,0,0))}},Pi:function(n){var i=(n.max.x+n.min.x)*.5;var t=(n.max.y+n.min.y)*.5;var e=(n.max.z+n.min.z)*.5;return[i,t,e]},ki:function(n){var i=n.max.x-n.min.x;var t=n.max.y-n.min.y;var e=n.max.z-n.min.z;return Math.sqrt(i*i+t*t+e*e)},gi:function(n){window.Ri.object.far=n;window.Ri.object.updateProjectionMatrix()},bi:function(n){window.Ri.maxDistance=n},Ci:function(){window.Ri.noZoom=true;window.Ri.noPan=true},Si:function(){window.Ri.noZoom=false;window.Ri.noPan=false},ji:function(){return[window.Ri.object.position.x,window.Ri.object.position.y,window.Ri.object.position.z]},Fi:function(n){window.Ri.object.position.set(n[0],n[1],n[2])},Ni:function(){return[window.Ri.object.up.x,window.Ri.object.up.y,window.Ri.object.up.z]},Gi:function(n){window.Ri.object.up.set(n[0],n[1],n[2])},qi:function(){return[window.Ri.target.x,window.Ri.target.y,window.Ri.target.z]},xi:function(n){window.Ri.target=new THREE.Vector3(n[0],n[1],n[2])}});THREE.pi=function(){this.Di=[];this.Li=undefined;this.Ai=undefined;this.zi=undefined;this.Zi=undefined};Object.assign(THREE.pi.prototype,{Bi:function(){this.Di=[];this.Li=undefined;this.Ai=undefined;this.zi=undefined;this.Zi=undefined},Xi:function(n){if(n.geometry){n.geometry.dispose()}if(n.material){if(n.material instanceof Array){for(var i=0;j<n.material.length;i++){n.material[i].dispose()}}else if(!(n.material instanceof Array)){n.material.dispose()}}for(var i=n.children.length-1;i>=0;i--){this.Xi(n.children[i])}},Yi:function(n){this.Xi(n);if(n){if(n.children.length>0){for(var i=n.children.length-1;i>=0;i--){n.remove(n.children[i])}}}},Vi:function(n,i){if(n){this.Ui(n,i);this.Yi(this.Zi);n.remove(n,this.Zi)}},Ii:function(n){if(n){if(n.children.length>0){for(var i=n.children.length-1;i>=0;i--){if(n.children[i]instanceof THREE.Mesh||n.children[i]instanceof THREE.Line){if(n.children[i].material instanceof Array){for(var t=0;t<n.children[i].material.length;t++){n.children[i].material[t].visible=false}}else if(!(n.children[i].material instanceof Array)){n.children[i].material.visible=false}}else if(n.children[i]instanceof THREE.Group){this.Ii(n.children[i])}}}}},Wi:function(n){if(n){if(n.children.length>0){for(var i=n.children.length-1;i>=0;i--){if(n.children[i]instanceof THREE.Mesh||n.children[i]instanceof THREE.Line){if(n.children[i].material instanceof Array){for(var t=0;t<n.children[i].material.length;t++){n.children[i].material[t].visible=true}}else if(!(n.children[i].material instanceof Array)){n.children[i].material.visible=true}}else if(n.children[i]instanceof THREE.Group){this.Wi(n.children[i])}}}}},Qi:function(n){if(n.children.length>0){for(var i=0;i<n.children.length;i++){if(n.children[i].children.length!==0){this.Qi(n.children[i])}else if(n.children[i].children.length===0&&(n.children[i]instanceof THREE.Mesh||n.children[i]instanceof THREE.Line)){this.Di.push(n.children[i])}}}},$i:function(n,i){if(n.children.length>0){for(var t=0;t<n.children.length;t++){if(n.children[t].children.length!==0){this.$i(n.children[t],i)}else if(n.children[t].children.length===0&&(n.children[t]instanceof THREE.Mesh||n.children[t]instanceof THREE.Line)&&n.children[t].name===i){this.Li=n.children[t];break}}}},Ji:function(n,i){if(n.children.length>0){for(var t=0;t<n.children.length;t++){if(n.children[t].type==="Group"){this.Ji(n.children[t],i)}else if(n.children[t].type==="Line"){if(n.children[t].name===i){this.zi=n.children[t];break}}}}},mi:function(n,i){if(n.children.length>0){for(var t=0;t<n.children.length;t++){if(n.children[t].type==="Group"){if(n.children[t].name===i){this.Ai=n.children[t];break}else{this.mi(n.children[t],i)}}}}},Ui:function(n,i){if(n.children.length!==0){for(var t=0;t<n.children.length;t++){if(n.children[t].name===i){this.Zi=n.children[t];break}else if(n.children[t].name!==i&&n.children[t].children.length!==0){this.Ui(n.children[t],i)}}}},Ki:function(n,i){this.Di=[];this.mi(n,i);this.Qi(this.Ai);return this.Di},yi:function(n){return(new THREE.Box3).setFromObject(n)},nt:function(n,i){if(i){if(n){if(n.children.length>0){for(var t=n.children.length-1;t>=0;t--){if(n.children[t]instanceof THREE.Mesh||n.children[t]instanceof THREE.Line){if(n.children[t].material instanceof Array){for(var e=0;e<n.children[t].material.length;e++){n.children[t].material[e].clippingPlanes=i;n.children[t].material[e].clipIntersection=false}}else{n.children[t].material.clippingPlanes=i;n.children[t].material.clipIntersection=false}}else if(n.children[t]instanceof THREE.Group){this.nt(n.children[t],i)}}}}}},it:function(n){if(n){if(n.children.length>0){for(var i=n.children.length-1;i>=0;i--){if(n.children[i]instanceof THREE.Mesh||n.children[i]instanceof THREE.Line){if(n.children[i].material instanceof Array){for(var t=0;t<n.children[i].material.length;t++){n.children[i].material[t].clippingPlanes=[];n.children[i].material[t].clipIntersection=false}}else{n.children[i].material.clippingPlanes=[];n.children[i].material.clipIntersection=false}}else if(n.children[i]instanceof THREE.Group){this.it(n.children[i])}}}}},tt:function(n,i){var t=[];var e=[];this.Di=[];this.Qi(n);for(var r=0;r<this.Di.length;r++){var a=this.yi(this.Di[r]);var o=(a.max.x+a.min.x)/2;var w=(a.max.y+a.min.y)/2;var f=(a.max.z+a.min.z)/2;this.Di[r].userData.nodeCenter=[o,w,f];this.Di[r].userData.nodeBottom=a.min.y;var E=false;if(this.Di[r].material instanceof Array){for(var u=0;u<this.Di[r].material.length;u++){if(this.Di[r].material[u].transparent===true){E=true}}}else if(!(this.Di[r].material instanceof Array)){if(this.Di[r].material.transparent===true){E=true}}if(E){e.push(this.Di[r])}else if(!E){t.push(this.Di[r])}}var s=undefined;for(var r=0;r<t.length-1;r++){for(var u=0;u<t.length-1-r;u++){if(t[u].userData.nodeBottom>t[u+1].userData.nodeBottom){s=t[u];t[u]=t[u+1];t[u+1]=s}}}for(var r=0;r<e.length-1;r++){for(var u=0;u<e.length-1-r;u++){if(e[u].userData.nodeBottom>e[u+1].userData.nodeBottom){s=e[u];e[u]=e[u+1];e[u+1]=s}}}this.Yi(n);var d=new THREE.Group;d.name="solidGroup";for(var r=0;r<Math.ceil(t.length/i);r++){var c=new THREE.Group;c.name="levelGroup_"+r;for(var u=r*i;u<(r+1)*i;u++){if(u<t.length){c.add(t[u])}else if(u>=t.length){break}}d.add(c)}n.add(d);var v=new THREE.Group;v.name="transparentGroup";for(var r=0;r<Math.ceil(e.length/i);r++){var c=new THREE.Group;c.name="levelGroup_"+r;for(var u=r*i;u<(r+1)*i;u++){if(u<e.length){c.add(e[u])}else if(u>e.length){break}}v.add(c)}n.add(v)},et:function(n){var i=new THREE.Scene;i.background=new THREE.Color(n);return i},rt:function(n){var i=new THREE.Group;i.name="ModelGroup";n.add(i)},at:function(n){window.ot.background=new THREE.Color(n)}});THREE.wt=function(){};Object.assign(THREE.wt.prototype,{ft:function(){window.Mi=new THREE.WebGLRenderer({canvas:document.getElementById("canvas"),antialias:true,alpha:true});var n=window.devicePixelRatio<1.5?1.5:window.devicePixelRatio;window.Mi.setPixelRatio(n);window.Mi.setSize(window.Et,window.ut);window.Mi.autoClear=false}});THREE.st=function(){};Object.assign(THREE.st.prototype,{dt:function(n,i,t,e){var r=new THREE.pi;var a=r.yi(n);var o=THREE.pn.s();o[0]=(a.max.x+a.min.x)/2;o[1]=(a.max.y+a.min.y)/2;o[2]=(a.max.z+a.min.z)/2;var w=window.li.matrixWorldInverse.elements;THREE.pn.In(o,o,w);var f=THREE.pn.s();THREE.pn.In(f,o,window.li.projectionMatrix.elements);f[0]=f[0]*t/2+t/2;f[1]=-f[1]*e/2+e/2;return[f[0],f[1]]},ct:function(n,i,t,e){var r=t.createElement("div");r.setAttribute("id",i);r.setAttribute("style","-webkit-user-select:none; -moz-user-select:none; -ms-user-select:none;user-select:none; position:absolute; width:50px; height:20px; left:"+n[0]+"px; top:"+n[1]+"px; font-size:6px;");r.setAttribute("class","sprite");r.innerHTML=e;t.body.appendChild(r)},vt:function(n,i,t,e){var r=t.getElementById(i);r.setAttribute("style","-webkit-user-select:none; -moz-user-select:none; -ms-user-select:none;user-select:none; position:absolute; width:50px; height:20px; left:"+n[0]+"px; top:"+n[1]+"px; font-size:6px;");if(e){r.innerHTML=e}},ht:function(n,i){var t=document.getElementById(i);n.body.removeChild(t)},Tt:function(){this.Ht();this.Rt();this.lt()},Ht:function(){var n=new THREE.pi;n.mi(window.ot,"MeasureDistanceGroup");var i=n.Ai;if(i){if(i.children.length>0){for(var t=0;t<i.children.length;t++){var e=i.children[t].name;if(document.getElementById(e)){var r=this.dt(i.children[t],window.li,window.Et,window.ut);var a=document.getElementById(e).innerHTML;this.vt(r,e,document,a)}}}}},Rt:function(){var n=new THREE.pi;n.mi(window.ot,"MeasureAngleGroup");var i=n.Ai;if(i){if(i.children.length>0){for(var t=0;t<i.children.length;t++){var e=i.children[t].name;if(document.getElementById(e)){var r=this.dt(i.children[t],window.li,window.Et,window.ut);var a=document.getElementById(e).innerHTML;this.vt(r,e,document,a)}}}}},lt:function(){var n=new THREE.pi;n.mi(window.ot,"MeasureAreaGroup");var i=n.Ai;if(i){if(i.children.length>0){for(var t=0;t<i.children.length;t++){var e=i.children[t].name;if(document.getElementById(e)){var r=this.dt(i.children[t],window.li,window.Et,window.ut);var a=document.getElementById(e).innerHTML;this.vt(r,e,document,a)}}}}},Mt:function(){var n=new THREE.pi;n.mi(window.ot,"MeasureDistanceGroup");var i=n.Ai;if(i){if(i.children.length>0){for(var t=0;t<i.children.length;t++){var e=i.children[t].name;this.ht(document,e)}}}},_t:function(){var n=new THREE.pi;n.mi(window.ot,"MeasureAngleGroup");var i=n.Ai;if(i){if(i.children.length>0){for(var t=0;t<i.children.length;t++){var e=i.children[t].name;this.ht(document,e)}}}},pt:function(){var n=new THREE.pi;n.mi(window.ot,"MeasureAreaGroup");var i=n.Ai;if(i){if(i.children.length>0){for(var t=0;t<i.children.length;t++){var e=i.children[t].name;this.ht(document,e)}}}}});window.yt=false;window.At=undefined;window.kt=0;window.gt=0;THREE.bt=function(){};Object.assign(THREE.bt.prototype,{Ft:function(){_loop()}});function _loop(){requestAnimationFrame(_loop);if(window.yt){if(window.gt<window.kt){if(window.At instanceof Function){window.At()}window.gt++}else if(window.gt>=window.kt){window.yt=false;window.At=undefined;window.kt=0;window.gt=0}}window.Ri.update();window.Mi.setViewport(0,0,window.Et,window.ut);window.Mi.render(window.ot,window.li);if(window.Pt){window.Mi.setViewport(window.xt,window.Gt,window.Ot,window.Ct);window.Mi.render(window.St,window.o)}var n=new THREE.st;n.Tt()}THREE.jt=function(){};Object.assign(THREE.jt.prototype,{Nt:function(n,i,t){var e=function(n){if(n.lengthComputable){var i=n.loaded/n.total*100;console.log(Math.round(i,2)+"% downloaded")}};var r=function(n){};THREE.Loader.Handlers.add(/\.dds$/i,new THREE.DDSLoader);if(n==="stl"){var a=new THREE.STLLoader;a.load(t+i,function(n){var i=new THREE.MeshPhongMaterial({color:16733491,specular:1118481,shininess:200});var t=new THREE.Mesh(n,i);t.name=document.getElementById("file-name-select").value;var e=new THREE.pi;e.mi(window.ot,"ModelGroup");e.Ai.add(t);var r=new THREE.Ti;r._i(window.ot,"ModelGroup")},e,r)}else if(n==="ply"){var a=new THREE.PLYLoader;a.load(t+i,function(n){n.computeVertexNormals();var i=new THREE.MeshPhongMaterial({vertexColors:THREE.VertexColors,specular:1118481,shininess:200});var t=new THREE.Mesh(n,i);t.name=document.getElementById("file-name-select").value;var e=new THREE.pi;e.mi(window.ot,"ModelGroup");e.Ai.add(t);var r=new THREE.Ti;r._i(window.ot,"ModelGroup")},e,r)}else if(n==="wrl"){var a=new THREE.VRMLLoader;a.texturePath=t;a.load(t+i,function(n){n.name=document.getElementById("file-name-select").value;var i=new THREE.pi;i.mi(window.ot,"ModelGroup");i.Ai.add(n);var t=new THREE.Ti;t._i(window.ot,"ModelGroup")},e,r)}}});window.li=undefined;window.ot=undefined;window.Mi=undefined;window.Ri=undefined;window.Et=0;window.ut=0;THREE.qt=function(){};Object.assign(THREE.qt.prototype,{Dt:function(n,i){window.Et=n;window.ut=i},Lt:function(n,i,t,e,r,a,o,w){this.et(w);this.ci(n,i,t);this.zt(e,r,a,o);this.rt();this.ft();this.Hi();this.Zt()},et:function(n){var i=new THREE.pi;window.ot=i.et(n)},ci:function(n,i,t){var e=new THREE.di;window.li=e.ci(n,window.Et,window.ut,i,t);window.li.position.set(0,0,6);window.ot.add(window.li)},zt:function(n,i,t,e){var r=new THREE.Ei;r.ui(window.ot,n,i);r.si(window.li,t,e)},rt:function(){var n=new THREE.pi;n.rt(window.ot)},ft:function(n){var i=new THREE.wt;i.ft(n)},Hi:function(){var n=new THREE.Ti;n.Hi()},Zt:function(){var n=new THREE.bt;n.Ft()},Bt:function(n,i){window.Et=n;window.ut=i;window.Ri.object.aspect=window.Et/window.ut;window.Ri.object.updateProjectionMatrix();window.Mi.setSize(window.Et,window.ut)}});THREE.Xt=function(){};Object.assign(THREE.Xt.prototype,{Yt:function(n,i,t,e){var r=new THREE.Vector2;var a=new THREE.Raycaster;r.x=n/window.Et*2-1;r.y=-(i/window.ut)*2+1;a.setFromCamera(r,window.li);var o=new THREE.pi;var w=o.Ki(window.ot,window.Ut.Vt);var f=a.intersectObjects(w);if(f.length>0){var E=f[0];o.mi(window.ot,window.Ut.Vt);o.$i(o.Ai,E.object.name);t(o.Li);e(o.Li);if(window.Ut.It instanceof Function){window.Ut.It(window.Ut.Wt)}}}});THREE.Qt=function(){this.$t=undefined;this.Jt=[0,0];this.Kt=[0,0];this.ne=false};Object.assign(THREE.Qt.prototype,{ie:function(){if(this.$t){var n=new THREE.pi;n.Yi(this.$t);n.Vi(window.ot,this.$t.name);this.$t=undefined}},te:function(n,i,t,e){this.$t=new THREE.Group;this.$t.name="squareGroup";var r=new THREE.di;var a=r.vi(window.li,[n,i,1e-5],window.Et,window.ut);var o=r.vi(window.li,[n,e,1e-5],window.Et,window.ut);var w=r.vi(window.li,[t,i,1e-5],window.Et,window.ut);var f=r.vi(window.li,[t,e,1e-5],window.Et,window.ut);this.ee(a,o);this.ee(w,f);this.ee(a,w);this.ee(o,f);window.ot.add(this.$t)},re:function(n,i,t,e){var r=new THREE.pi;r.Yi(this.$t);var a=new THREE.di;var o=a.vi(window.li,[n,i,1e-5],window.Et,window.ut);var w=a.vi(window.li,[n,e,1e-5],window.Et,window.ut);var f=a.vi(window.li,[t,i,1e-5],window.Et,window.ut);var E=a.vi(window.li,[t,e,1e-5],window.Et,window.ut);this.ee(o,w);this.ee(f,E);this.ee(o,f);this.ee(w,E)},ee:function(n,i){var t=new THREE.Vector3(n[0],n[1],n[2]);var e=new THREE.Vector3(i[0],i[1],i[2]);var r=new THREE.Geometry;r.vertices.push(t,e);var a=new THREE.LineBasicMaterial({color:16776960});var o=new THREE.Line(r,a);this.$t.add(o)},Yt:function(n,i){this.Jt=[n,i];var t=this.Jt[0];var e=this.Jt[1];var r=this.Jt[0];var a=this.Jt[1];this.te(t,e,r,a);this.ne=true},ae:function(n,i){if(this.ne){this.Kt=[n,i];var t=this.Jt[0];var e=this.Jt[1];var r=this.Kt[0];var a=this.Kt[1];this.re(t,e,r,a)}},oe:function(n,i,t,e){if(this.ne){this.ne=false;this.ie();var r=new THREE.pi;var a=r.Ki(window.ot,window.Ut.Vt);var o=this.we(this.Jt,this.Kt);for(var w=0;w<a.length;w++){var f=this.fe(a[w]);if(this.Ee(f,o)){r.mi(window.ot,window.Ut.Vt);r.$i(r.Ai,a[w].name);t(r.Li);e(r.Li)}}this.Jt=[0,0];this.Kt=[0,0];if(window.Ut.It instanceof Function){window.Ut.It(window.Ut.Wt)}}},fe:function(n){var i=new THREE.pi;var t=i.yi(n);var e=t.min.x;var r=t.max.x;var a=t.min.y;var o=t.max.y;var w=t.min.z;var f=t.max.z;var E=THREE.pn.H(e,a,w);var u=THREE.pn.H(e,o,w);var s=THREE.pn.H(r,o,w);var d=THREE.pn.H(r,a,w);var c=THREE.pn.H(e,a,f);var v=THREE.pn.H(e,o,f);var h=THREE.pn.H(r,o,f);var T=THREE.pn.H(r,a,f);var H=new THREE.di;var R=H.hi(window.li,E,window.Et,window.ut);var l=H.hi(window.li,u,window.Et,window.ut);var M=H.hi(window.li,s,window.Et,window.ut);var _=H.hi(window.li,d,window.Et,window.ut);var p=H.hi(window.li,c,window.Et,window.ut);var m=H.hi(window.li,v,window.Et,window.ut);var y=H.hi(window.li,h,window.Et,window.ut);var A=H.hi(window.li,T,window.Et,window.ut);var k=R[0];var g=R[0];var b=R[1];var F=R[1];k=k<=l[0]?k:l[0];k=k<=M[0]?k:M[0];k=k<=_[0]?k:_[0];k=k<=p[0]?k:p[0];k=k<=m[0]?k:m[0];k=k<=y[0]?k:y[0];k=k<=A[0]?k:A[0];g=g>=l[0]?g:l[0];g=g>=M[0]?g:M[0];g=g>=_[0]?g:_[0];g=g>=p[0]?g:p[0];g=g>=m[0]?g:m[0];g=g>=y[0]?g:y[0];g=g>=A[0]?g:A[0];b=b<=l[1]?b:l[1];b=b<=M[1]?b:M[1];b=b<=_[1]?b:_[1];b=b<=p[1]?b:p[1];b=b<=m[1]?b:m[1];b=b<=y[1]?b:y[1];b=b<=A[1]?b:A[1];F=F>=l[1]?F:l[1];F=F>=M[1]?F:M[1];F=F>=_[1]?F:_[1];F=F>=p[1]?F:p[1];F=F>=m[1]?F:m[1];F=F>=y[1]?F:y[1];F=F>=A[1]?F:A[1];return[k,b,g,F]},we:function(n,i){var t=n[0];var e=n[1];var r=i[0];var a=i[1];var o=t<=r?t:r;var w=t>=r?t:r;var f=e<=a?e:a;var E=e>=a?e:a;return[o,f,w,E]},Ee:function(n,i){var t=false;if(n[0]>i[0]&&n[1]>i[1]&&n[2]<i[2]&&n[3]<i[3]){t=true}return t}});window.ue=false;window.Ut=undefined;THREE.se=function(){this.Vt="ModelGroup";this.It=undefined;this.Wt=[];this.de=undefined;this.ce=undefined};Object.assign(THREE.se.prototype,{Lt:function(n,i){this.Vt=n;this.It=i;this.Wt=[];this.de=undefined;this.ce=this.ve},he:function(){if(window.Ut){this.Vt="ModelGroup";this.It=undefined;if(window.Ut.de){if(window.Ut.de instanceof THREE.Qt){window.Ut.de.ie();window.Ut.de=undefined}else if(window.Ut.de instanceof THREE.Xt){window.Ut.de=undefined}}window.Ut.Te();window.Ut.He();window.Ut.ce=undefined}},Re:function(n){var i=false;for(var t=0;t<window.Ut.Wt.length;t++){if(window.Ut.Wt[t].name===n.name){i=true;break}}if(!i){var e=n.geometry.clone(false);var r=undefined;if(n.material instanceof Array){r=[];for(var t=0;t<n.material.length;t++){r.push(n.material[t].clone(false))}}else if(!(n.material instanceof Array)){r=n.material.clone(false)}var a=new THREE.Mesh(e,r);a.uuid=n.uuid;a.name=n.name;window.Ut.Wt.push(a)}},Te:function(){var n=new THREE.pi;n.mi(window.ot,window.Ut.Vt);if(this.Wt.length>0){for(var i=0;i<this.Wt.length;i++){n.Vi(n.Ai,this.Wt[i].name);n.Ai.add(this.Wt[i])}}},He:function(){if(this.Wt.length>0){for(var n=this.Wt.length-1;n>=0;n--){this.Wt[n].geometry.dispose();if(this.Wt[n].material instanceof Array){for(var i=0;i<this.Wt[n].material.length;i++){this.Wt[n].material[i].dispose()}}else if(!(this.Wt[n].material instanceof Array)){this.Wt[n].material.dispose()}this.Wt[n]=undefined}}this.Wt=[];if(window.Ut.It instanceof Function){window.Ut.It(window.Ut.Wt)}},ve:function(n){if(n.material instanceof Array){for(var i=0;i<n.material.length;i++){n.material[i].dispose()}n.material=new THREE.MeshBasicMaterial({color:16776960})}else if(!(n.material instanceof Array)){n.material.dispose();n.material=new THREE.MeshBasicMaterial({color:16776960})}},le:function(){if(window.Ut.Wt.length>0){var n=new THREE.pi;n.mi(window.ot,window.Ut.Vt);for(var i=0;i<window.Ut.Wt.length;i++){n.Li=undefined;n.$i(n.Ai,window.Ut.Wt[i].name);if(n.Li){window.Ut.ve(n.Li)}else if(n.Li===undefined){var t=window.Ut.Wt[i].geometry.clone(false);var e=undefined;if(window.Ut.Wt[i].material instanceof Array){e=[];for(var r=0;r<window.Ut.Wt[i].material.length;r++){e.push(window.Ut.Wt[i].material[r].clone(false))}}else if(!(window.Ut.Wt[i].material instanceof Array)){e=window.Ut.Wt[i].material.clone(false)}var a=new THREE.Mesh(t,e);a.uuid=window.Ut.Wt[i].uuid;a.name=window.Ut.Wt[i].name;this.ve(a);n.Ai.add(a)}}}},Me:function(n){if(n.material instanceof Array){for(var i=0;i<n.material.length;i++){n.material[i].dispose()}n.material=new THREE.MeshBasicMaterial({color:16777215,transparent:true,opacity:.26})}else if(!(n.material instanceof Array)){n.material.dispose();n.material=new THREE.MeshBasicMaterial({color:16777215,transparent:true,opacity:.26})}},_e:function(){if(window.Ut.Wt.length>0){var n=new THREE.pi;n.mi(window.ot,window.Ut.Vt);for(var i=0;i<window.Ut.Wt.length;i++){n.Li=undefined;n.$i(n.Ai,this.Wt[i].name);if(n.Li){window.Ut.Me(n.Li)}else if(n.Li===undefined){var t=window.Ut.Wt[i].geometry.clone(false);var e=undefined;if(window.Ut.Wt[i].material instanceof Array){e=[];for(var r=0;r<window.Ut.Wt[i].material.length;r++){e.push(window.Ut.Wt[i].material[r].clone(false))}}else if(!(window.Ut.Wt[i].material instanceof Array)){e=window.Ut.Wt[i].material.clone(false)}var a=new THREE.Mesh(t,e);a.uuid=window.Ut.Wt[i].uuid;a.name=window.Ut.Wt[i].name;window.Ut.Me(a);n.Ai.add(a)}}}},pe:function(n){var i=new THREE.pi;i.mi(window.ot,window.Ut.Vt);i.Vi(i.Ai,n.name)},me:function(){if(window.Ut.Wt.length>0){var n=new THREE.pi;n.mi(window.ot,window.Ut.Vt);for(var i=0;i<this.Wt.length;i++){n.Li=undefined;n.$i(n.Ai,window.Ut.Wt[i].name);if(n.Li){window.Ut.pe(n.Li)}}}}});window.St=undefined;window.o=undefined;window.Ot=60;window.Ct=60;window.xt=0;window.Gt=0;THREE.ye=function(){this.Ae=undefined;this.ke=1};Object.assign(THREE.ye.prototype,{ge:function(n,i,t,e,r){this.Ae=new THREE.Group;this.Ae.name="NavigatorGroup";this.be(n,i,t,e,r);var a=this.Fe();this.Pe(a);this.xe(a);this.Ge(a);var o=this.Oe();this.Ce(o);this.Se(o);this.je(o);window.St=new THREE.Scene;window.St.add(this.Ae);var w=new THREE.di;var f=30;var E=.1;var u=100;window.o=w.ci(f,window.Ot,window.Ct,E,u);window.o.position.set(0,0,6);var s=new THREE.Ti;s._i(window.ot,"ModelGroup")},Ne:function(){var n=new THREE.pi;n.Yi(window.St);window.St=undefined;window.o=undefined;window.Ot=60;window.Ct=60;window.xt=0;window.Gt=0},be:function(n,i,t,e,r){this.ke=n;window.Ot=i;window.Ct=t;window.xt=e;window.Gt=r},Fe:function(){var n=new THREE.Kn;var i=n.ni(.06,.2,16);for(var t=0;t<i.ii.length-1;t=t+3){i.ii[t+1]=i.ii[t+1]+.8}var e=n.ei(.03,.8,16);var r=i.ii.concat(e.ii);for(var t=0;t<e.ti.length;t++){e.ti[t]+=i.ii.length/3}var a=i.ti.concat(e.ti);return{ii:r,ti:a}},Oe:function(){var n=new THREE.Kn;return n.fi(.6,.03,16,60,Math.PI*2)},Pe:function(n){var i=new THREE.BufferGeometry;i.setIndex(n.ti);i.addAttribute("position",new THREE.BufferAttribute(Float32Array.from(n.ii),3));var t=new THREE.MeshBasicMaterial({color:16776960,depthTest:false});var e=new THREE.Mesh(i,t);e.renderOrder=1;e.name="axisHelper_axisX";e.rotateZ(-Math.PI/2);e.scale.set(this.ke,this.ke,this.ke);this.Ae.add(e)},xe:function(n){var i=new THREE.BufferGeometry;i.setIndex(n.ti);i.addAttribute("position",new THREE.BufferAttribute(Float32Array.from(n.ii),3));var t=new THREE.MeshBasicMaterial({color:16711680,depthTest:false});var e=new THREE.Mesh(i,t);e.renderOrder=1;e.name="axisHelper_axisY";e.scale.set(this.ke,this.ke,this.ke);this.Ae.add(e)},Ge:function(n){var i=new THREE.BufferGeometry;i.setIndex(n.ti);i.addAttribute("position",new THREE.BufferAttribute(Float32Array.from(n.ii),3));var t=new THREE.MeshBasicMaterial({color:255,depthTest:false});var e=new THREE.Mesh(i,t);e.renderOrder=1;e.name="axisHelper_axisZ";e.rotateX(Math.PI/2);e.scale.set(this.ke,this.ke,this.ke);this.Ae.add(e)},Ce:function(n){var i=new THREE.BufferGeometry;i.setIndex(n.ti);i.addAttribute("position",new THREE.BufferAttribute(Float32Array.from(n.ii),3));var t=new THREE.MeshBasicMaterial({color:16776960,depthTest:false});var e=new THREE.Mesh(i,t);e.renderOrder=1;e.name="axisHelper_torusY0Z";e.rotateY(-Math.PI/2);e.scale.set(this.ke,this.ke,this.ke);this.Ae.add(e)},Se:function(n){var i=new THREE.BufferGeometry;i.setIndex(n.ti);i.addAttribute("position",new THREE.BufferAttribute(Float32Array.from(n.ii),3));var t=new THREE.MeshBasicMaterial({color:16711680,depthTest:false});var e=new THREE.Mesh(i,t);e.renderOrder=1;e.name="axisHelper_torusZ0X";e.rotateX(-Math.PI/2);e.scale.set(this.ke,this.ke,this.ke);this.Ae.add(e)},je:function(n){var i=new THREE.BufferGeometry;i.setIndex(n.ti);i.addAttribute("position",new THREE.BufferAttribute(Float32Array.from(n.ii),3));var t=new THREE.MeshBasicMaterial({color:255,depthTest:false});var e=new THREE.Mesh(i,t);e.renderOrder=1;e.name="axisHelper_torusX0Y";e.scale.set(this.ke,this.ke,this.ke);this.Ae.add(e)}});window.Pt=false;window.qe=undefined;THREE.De=function(){};Object.assign(THREE.De.prototype,{Lt:function(n,i,t,e,r){var a=new THREE.ye;a.ge(n,i,t,e,r)},he:function(){var n=new THREE.ye;n.Ne()}});function _init(){var n=500;var i=360;var t=30;var e=.1;var r=100;var a=13421772;var o=.2;var w=16777215;var f=.8;var E=11184810;var u=new THREE.qt;u.Dt(n,i);u.Lt(t,e,r,a,o,w,f,E)}_init();window.addEventListener("resize",function(){var n=500;var i=360;var t=new THREE.qt;t.Bt(n,i)},false);document.getElementById("set-canvas").addEventListener("click",function(){var n=document.getElementById("canvas-width").value;var i=document.getElementById("canvas-height").value;var t=new THREE.qt;t.Bt(n,i);var e=document.getElementById("clear-color").value-0;var r=new THREE.pi;r.at(e)},false);document.getElementById("load-model").addEventListener("click",function(){var n=document.getElementById("file-type-select").value;var i=document.getElementById("file-name-select").value;var t="./models/";var e=new THREE.jt;e.Nt(n,i,t)},false);document.getElementById("pick-on").addEventListener("click",function(){var n=document.getElementById("pick-target-select").value;var i=document.getElementsByName("pick-type");var t="PointerPick";for(var e=0;e<i.length;e++){if(i[e].checked){t=i[e].value;break}}var r=document.getElementsByName("pick-status");var a="PickHighlight";for(var e=0;e<r.length;e++){if(r[e].checked){a=r[e].value;break}}function o(n){console.log(n);alert(n)}if(!window.Le&&!window.ze&&!window.Ze&&!window.Be){if(!window.ue){window.ue=true;window.Ut=new THREE.se;window.Ut.Lt(n,o);if(t==="PointerPick"){window.Ut.de=new THREE.Xt}else if(t==="SquarePick"){window.Ut.de=new THREE.Qt}if(a==="PickHide"){window.Ut.ce=window.Ut.pe}else if(a==="PickHighlight"){window.Ut.ce=window.Ut.ve}else if(a==="PickTransparent"){window.Ut.ce=window.Ut.Me}}}},false);document.getElementById("pick-off").addEventListener("click",function(){window.ue=false;if(window.Ut){window.Ut.he()}window.Ut=undefined},false);document.getElementById("pick-reverse").addEventListener("click",function(){if(window.Ut){if(window.Ut.de){if(window.Ut.de instanceof THREE.Qt){window.Ut.de.ie()}}window.Ut.Te();window.Ut.He()}},false);document.getElementById("pick-type-confirm").addEventListener("click",function(){var n=document.getElementsByName("pick-type");var i="PointerPick";for(var t=0;t<n.length;t++){if(n[t].checked){i=n[t].value;break}}if(window.ue){if(window.Ut){if(!window.Ut.de){if(i==="SquarePick"){window.Ut.de=new THREE.Qt}else if(i==="PointerPick"){window.Ut.de=new THREE.Xt}}else if(window.Ut.de){if(i==="SquarePick"){if(window.Ut.de instanceof THREE.Qt){window.Ut.de.ie()}else if(window.Ut.de instanceof THREE.Xt){window.Ut.de=new THREE.Qt}}else if(i==="PointerPick"){if(window.Ut.de instanceof THREE.Qt){window.Ut.de.ie();window.Ut.de=new THREE.Xt}}}}}},false);document.getElementById("pick-status-confirm").addEventListener("click",function(){var n=document.getElementsByName("pick-status");var i="PickHighlight";for(var t=0;t<n.length;t++){if(n[t].checked){i=n[t].value;break}}if(window.ue){if(window.Ut){if(i==="PickHide"){window.Ut.ce=window.Ut.pe;window.Ut.me()}else if(i==="PickHighlight"){window.Ut.ce=window.Ut.ve;window.Ut.le()}else if(i==="PickTransparent"){window.Ut.ce=window.Ut.Me;window.Ut._e()}}}},false);document.getElementById("navigator-on").addEventListener("click",function(){if(!window.Pt){window.Pt=true;window.qe=new THREE.De;var n=1;var i=90;var t=90;var e=window.Et-i;var r=0;window.qe.Lt(n,i,t,e,r)}},false);document.getElementById("navigator-off").addEventListener("click",function(){if(window.Pt){window.Pt=false;window.qe.he();window.qe=undefined}},false);document.getElementById("navigator-front-face").addEventListener("click",function(){var n=THREE.pn.H(0,1,0);var i=THREE.pn.H(0,0,0);var t=window.Ri.object.far/16*3;var e=THREE.pn.H(0,0,t);var r=new THREE.Ti;r.Fi(e);r.Gi(n);r.xi(i);if(window.o){window.o.position.set(0,0,6);window.o.up.set(0,1,0);window.o.lookAt(new THREE.Vector3(0,0,0))}},false);document.getElementById("navigator-left-face").addEventListener("click",function(){var n=THREE.pn.H(0,1,0);var i=THREE.pn.H(0,0,0);var t=window.Ri.object.far/16*3;var e=THREE.pn.H(-t,0,0);var r=new THREE.Ti;r.Fi(e);r.Gi(n);r.xi(i);if(window.o){window.o.position.set(-6,0,0);window.o.up.set(0,1,0);window.o.lookAt(new THREE.Vector3(0,0,0))}},false);document.getElementById("navigator-top-face").addEventListener("click",function(){var n=THREE.pn.H(0,0,-1);var i=THREE.pn.H(0,0,0);var t=window.Ri.object.far/16*3;var e=THREE.pn.H(0,t,0);var r=new THREE.Ti;r.Fi(e);r.Gi(n);r.xi(i);if(window.o){window.o.position.set(0,6,0);window.o.up.set(0,0,-1);window.o.lookAt(new THREE.Vector3(0,0,0))}},false);document.getElementById("canvas").addEventListener("mousedown",function(n){if(n.button===0){if(window.ue){if(window.Ut){if(window.Ut.de){if(window.Ut.de instanceof THREE.Qt){window.Ut.de.Yt(n.offsetX,n.offsetY)}else if(window.Ut.de instanceof THREE.Xt){window.Ut.de.Yt(n.offsetX,n.offsetY,window.Ut.Re,window.Ut.ce)}}}}}},false);document.getElementById("canvas").addEventListener("mousemove",function(n){if(n.button===0){if(window.ue){if(window.Ut){if(window.Ut.de){if(window.Ut.de instanceof THREE.Qt){window.Ut.de.ae(n.offsetX,n.offsetY)}}}}}},false);document.getElementById("canvas").addEventListener("mouseup",function(n){if(n.button===0){if(window.ue){if(window.Ut){if(window.Ut.de){if(window.Ut.de instanceof THREE.Qt){window.Ut.de.oe(n.offsetX,n.offsetY,window.Ut.Re,window.Ut.ce)}}}}}},false);